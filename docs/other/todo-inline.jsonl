{"tag": "TODO", "file": "tests/conftest.py", "line_num": 12, "content": "    # TODO[torch-python-3.14]: remove when torch supports Python 3.14", "context": "    \"\"\"ignore any test file ending with `_torch.py` on Python 3.14+\n\n    Also ignore tests/unit/validate_type/ on Python < 3.11 (these use modern type syntax)\n    \"\"\"\n    path_str: str = str(collection_path).replace(\"\\\\\", \"/\")\n    # TODO[torch-python-3.14]: remove when torch supports Python 3.14\n    # ignore torch tests on Python 3.14+\n    if sys.version_info >= (3, 14):\n        warnings.warn(\n            \"Ignoring torch tests on Python 3.14+ as torch does not yet support this version\"\n        )", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=%5Btorch-python-3.14%5D%3A%20remove%20when%20torch%20supports%20Python%203.14&body=%23%20source%0A%0A%5B%60tests%2Fconftest.py%23L12%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Ftests%2Fconftest.py%23L12%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%22%22%22ignore%20any%20test%20file%20ending%20with%20%60_torch.py%60%20on%20Python%203.14%2B%0A%0A%20%20%20%20Also%20ignore%20tests%2Funit%2Fvalidate_type%2F%20on%20Python%20%3C%203.11%20%28these%20use%20modern%20type%20syntax%29%0A%20%20%20%20%22%22%22%0A%20%20%20%20path_str%3A%20str%20%3D%20str%28collection_path%29.replace%28%22%5C%5C%22%2C%20%22%2F%22%29%0A%20%20%20%20%23%20TODO%5Btorch-python-3.14%5D%3A%20remove%20when%20torch%20supports%20Python%203.14%0A%20%20%20%20%23%20ignore%20torch%20tests%20on%20Python%203.14%2B%0A%20%20%20%20if%20sys.version_info%20%3E%3D%20%283%2C%2014%29%3A%0A%20%20%20%20%20%20%20%20warnings.warn%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Ignoring%20torch%20tests%20on%20Python%203.14%2B%20as%20torch%20does%20not%20yet%20support%20this%20version%22%0A%20%20%20%20%20%20%20%20%29%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "[torch-python-3.14]: remove when torch supports Python 3.14", "code_url": "https://github.com/mivanit/muutils/blob/main/tests/conftest.py#L12"}
{"tag": "TODO", "file": "tests/conftest.py", "line_num": 32, "content": "# TODO: get beartype working", "context": "            return True\n\n    return False\n\n\n# TODO: get beartype working\n# from beartype.claw import beartype_all\n\n# beartype_all()", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=get%20beartype%20working&body=%23%20source%0A%0A%5B%60tests%2Fconftest.py%23L32%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Ftests%2Fconftest.py%23L32%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20True%0A%0A%20%20%20%20return%20False%0A%0A%0A%23%20TODO%3A%20get%20beartype%20working%0A%23%20from%20beartype.claw%20import%20beartype_all%0A%0A%23%20beartype_all%28%29%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "get beartype working", "code_url": "https://github.com/mivanit/muutils/blob/main/tests/conftest.py#L32"}
{"tag": "TODO", "file": "muutils/parallel.py", "line_num": 145, "content": "# TODO: if `parallel` is a negative int, use `multiprocessing.cpu_count() + parallel` to determine the number of processes", "context": "        pbar_fn = pbar\n\n    return pbar_fn, pbar_kwargs\n\n\n# TODO: if `parallel` is a negative int, use `multiprocessing.cpu_count() + parallel` to determine the number of processes\ndef run_maybe_parallel(\n    func: Callable[[InputType], OutputType],\n    iterable: Iterable[InputType],\n    parallel: Union[bool, int],\n    pbar_kwargs: Optional[Dict[str, Any]] = None,", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=if%20%60parallel%60%20is%20a%20negative%20int%2C%20use%20%60multiprocessing.cpu_count%28%29%20%2B%20parallel%60%20to%20determine%20the%20number%20of%20processes&body=%23%20source%0A%0A%5B%60muutils%2Fparallel.py%23L145%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fparallel.py%23L145%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20pbar_fn%20%3D%20pbar%0A%0A%20%20%20%20return%20pbar_fn%2C%20pbar_kwargs%0A%0A%0A%23%20TODO%3A%20if%20%60parallel%60%20is%20a%20negative%20int%2C%20use%20%60multiprocessing.cpu_count%28%29%20%2B%20parallel%60%20to%20determine%20the%20number%20of%20processes%0Adef%20run_maybe_parallel%28%0A%20%20%20%20func%3A%20Callable%5B%5BInputType%5D%2C%20OutputType%5D%2C%0A%20%20%20%20iterable%3A%20Iterable%5BInputType%5D%2C%0A%20%20%20%20parallel%3A%20Union%5Bbool%2C%20int%5D%2C%0A%20%20%20%20pbar_kwargs%3A%20Optional%5BDict%5Bstr%2C%20Any%5D%5D%20%3D%20None%2C%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "if `parallel` is a negative int, use `multiprocessing.cpu_count() + parallel` to determine the number of processes", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/parallel.py#L145"}
{"tag": "TODO", "file": "muutils/spinner.py", "line_num": 454, "content": "# TODO: type hint that the `update_status` kwarg is not needed when calling the function we just decorated", "context": "SpinnerContext.__doc__ = Spinner.__doc__\n\n\n# TODO: type hint that the `update_status` kwarg is not needed when calling the function we just decorated\ndef spinner_decorator(\n    *args: Any,\n    # passed to `Spinner.__init__`\n    config: SpinnerConfigArg = \"default\",\n    update_interval: float = 0.1,", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=type%20hint%20that%20the%20%60update_status%60%20kwarg%20is%20not%20needed%20when%20calling%20the%20function%20we%20just%20decorated&body=%23%20source%0A%0A%5B%60muutils%2Fspinner.py%23L454%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fspinner.py%23L454%29%0A%0A%23%20context%0A%60%60%60python%0ASpinnerContext.__doc__%20%3D%20Spinner.__doc__%0A%0A%0A%23%20TODO%3A%20type%20hint%20that%20the%20%60update_status%60%20kwarg%20is%20not%20needed%20when%20calling%20the%20function%20we%20just%20decorated%0Adef%20spinner_decorator%28%0A%20%20%20%20%2Aargs%3A%20Any%2C%0A%20%20%20%20%23%20passed%20to%20%60Spinner.__init__%60%0A%20%20%20%20config%3A%20SpinnerConfigArg%20%3D%20%22default%22%2C%0A%20%20%20%20update_interval%3A%20float%20%3D%200.1%2C%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "type hint that the `update_status` kwarg is not needed when calling the function we just decorated", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/spinner.py#L454"}
{"tag": "TODO", "file": "muutils/spinner.py", "line_num": 514, "content": "        # TODO: fix this type ignore", "context": "                spinner.stop(failed=True)\n                raise e\n\n            return result\n\n        # TODO: fix this type ignore\n        return wrapper  # type: ignore[return-value]\n\n    if not args:\n        # called as `@spinner_decorator(stuff)`\n        return decorator", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=fix%20this%20type%20ignore&body=%23%20source%0A%0A%5B%60muutils%2Fspinner.py%23L514%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fspinner.py%23L514%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20spinner.stop%28failed%3DTrue%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20e%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20result%0A%0A%20%20%20%20%20%20%20%20%23%20TODO%3A%20fix%20this%20type%20ignore%0A%20%20%20%20%20%20%20%20return%20wrapper%20%20%23%20type%3A%20ignore%5Breturn-value%5D%0A%0A%20%20%20%20if%20not%20args%3A%0A%20%20%20%20%20%20%20%20%23%20called%20as%20%60%40spinner_decorator%28stuff%29%60%0A%20%20%20%20%20%20%20%20return%20decorator%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "fix this type ignore", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/spinner.py#L514"}
{"tag": "TODO", "file": "muutils/validate_type.py", "line_num": 214, "content": "        # TODO: Callables, etc.", "context": "            if item_type in value.__mro__:\n                return _return_func(True)\n            else:\n                return _return_func(False)\n\n        # TODO: Callables, etc.\n\n        raise TypeHintNotImplementedError(\n            f\"Unsupported generic alias {expected_type = } for {value = },   {origin = },   {args = }\",\n            f\"{origin = }, {args = }\",\n            f\"\\n{GenericAliasTypes = }\",", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=Callables%2C%20etc.&body=%23%20source%0A%0A%5B%60muutils%2Fvalidate_type.py%23L214%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fvalidate_type.py%23L214%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20item_type%20in%20value.__mro__%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20_return_func%28True%29%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20_return_func%28False%29%0A%0A%20%20%20%20%20%20%20%20%23%20TODO%3A%20Callables%2C%20etc.%0A%0A%20%20%20%20%20%20%20%20raise%20TypeHintNotImplementedError%28%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22Unsupported%20generic%20alias%20%7Bexpected_type%20%3D%20%7D%20for%20%7Bvalue%20%3D%20%7D%2C%20%20%20%7Borigin%20%3D%20%7D%2C%20%20%20%7Bargs%20%3D%20%7D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22%7Borigin%20%3D%20%7D%2C%20%7Bargs%20%3D%20%7D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22%5Cn%7BGenericAliasTypes%20%3D%20%7D%22%2C%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "Callables, etc.", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/validate_type.py#L214"}
{"tag": "NOTE", "file": "muutils/dictmagic.py", "line_num": 336, "content": "    # NOTE: this process is not meant to be reversible, and is intended for pretty-printing and visualization purposes", "context": ") -> dict[str, Any]:\n    \"\"\"condense a nested dict, by condensing numeric or matching keys with matching values to ranges\n\n    combines the functionality of `condense_nested_dicts_numeric_keys()` and `condense_nested_dicts_matching_values()`\n\n    # NOTE: this process is not meant to be reversible, and is intended for pretty-printing and visualization purposes\n    it's not reversible because types are lost to make the printing pretty\n\n    # Parameters:\n     - `data : dict[str, Any]`\n        data to process", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=this%20process%20is%20not%20meant%20to%20be%20reversible%2C%20and%20is%20intended%20for%20pretty-printing%20and%20visualization%20purposes&body=%23%20source%0A%0A%5B%60muutils%2Fdictmagic.py%23L336%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fdictmagic.py%23L336%29%0A%0A%23%20context%0A%60%60%60python%0A%29%20-%3E%20dict%5Bstr%2C%20Any%5D%3A%0A%20%20%20%20%22%22%22condense%20a%20nested%20dict%2C%20by%20condensing%20numeric%20or%20matching%20keys%20with%20matching%20values%20to%20ranges%0A%0A%20%20%20%20combines%20the%20functionality%20of%20%60condense_nested_dicts_numeric_keys%28%29%60%20and%20%60condense_nested_dicts_matching_values%28%29%60%0A%0A%20%20%20%20%23%20NOTE%3A%20this%20process%20is%20not%20meant%20to%20be%20reversible%2C%20and%20is%20intended%20for%20pretty-printing%20and%20visualization%20purposes%0A%20%20%20%20it%27s%20not%20reversible%20because%20types%20are%20lost%20to%20make%20the%20printing%20pretty%0A%0A%20%20%20%20%23%20Parameters%3A%0A%20%20%20%20%20-%20%60data%20%3A%20dict%5Bstr%2C%20Any%5D%60%0A%20%20%20%20%20%20%20%20data%20to%20process%0A%60%60%60&labels=NOTE", "file_lang": "python", "stripped_title": "this process is not meant to be reversible, and is intended for pretty-printing and visualization purposes", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/dictmagic.py#L336"}
{"tag": "TODO", "file": "muutils/interval.py", "line_num": 13, "content": "# TODO: make this also work with decimals, fractions, numpy types, etc.", "context": "from muutils.misc import str_to_numeric\n\n_EPSILON: float = 1e-10\n\nNumber = Union[float, int]\n# TODO: make this also work with decimals, fractions, numpy types, etc.\n# except we must somehow avoid importing them? idk\n\n_EMPTY_INTERVAL_ARGS: tuple[Number, Number, bool, bool, set[Number]] = (\n    math.nan,\n    math.nan,", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=make%20this%20also%20work%20with%20decimals%2C%20fractions%2C%20numpy%20types%2C%20etc.&body=%23%20source%0A%0A%5B%60muutils%2Finterval.py%23L13%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Finterval.py%23L13%29%0A%0A%23%20context%0A%60%60%60python%0Afrom%20muutils.misc%20import%20str_to_numeric%0A%0A_EPSILON%3A%20float%20%3D%201e-10%0A%0ANumber%20%3D%20Union%5Bfloat%2C%20int%5D%0A%23%20TODO%3A%20make%20this%20also%20work%20with%20decimals%2C%20fractions%2C%20numpy%20types%2C%20etc.%0A%23%20except%20we%20must%20somehow%20avoid%20importing%20them%3F%20idk%0A%0A_EMPTY_INTERVAL_ARGS%3A%20tuple%5BNumber%2C%20Number%2C%20bool%2C%20bool%2C%20set%5BNumber%5D%5D%20%3D%20%28%0A%20%20%20%20math.nan%2C%0A%20%20%20%20math.nan%2C%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "make this also work with decimals, fractions, numpy types, etc.", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/interval.py#L13"}
{"tag": "TODO", "file": "muutils/tensor_info.py", "line_num": 241, "content": "    # TODO: type checks fail on 3.10, see https://github.com/mivanit/muutils/actions/runs/18883100459/job/53891346225", "context": "    if result[\"size\"] == 0:\n        result[\"status\"] = \"empty array\"\n        return result\n\n    # Flatten array for statistics if it's multi-dimensional\n    # TODO: type checks fail on 3.10, see https://github.com/mivanit/muutils/actions/runs/18883100459/job/53891346225\n    try:\n        if len(A_np.shape) > 1:\n            A_flat = A_np.flatten()  # type: ignore[assignment]\n        else:\n            A_flat = A_np  # type: ignore[assignment]", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=type%20checks%20fail%20on%203.10%2C%20see%20https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Factions%2Fruns%2F18883100459%2Fjob%2F53891346225&body=%23%20source%0A%0A%5B%60muutils%2Ftensor_info.py%23L241%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Ftensor_info.py%23L241%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20if%20result%5B%22size%22%5D%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20result%5B%22status%22%5D%20%3D%20%22empty%20array%22%0A%20%20%20%20%20%20%20%20return%20result%0A%0A%20%20%20%20%23%20Flatten%20array%20for%20statistics%20if%20it%27s%20multi-dimensional%0A%20%20%20%20%23%20TODO%3A%20type%20checks%20fail%20on%203.10%2C%20see%20https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Factions%2Fruns%2F18883100459%2Fjob%2F53891346225%0A%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20if%20len%28A_np.shape%29%20%3E%201%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20A_flat%20%3D%20A_np.flatten%28%29%20%20%23%20type%3A%20ignore%5Bassignment%5D%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20A_flat%20%3D%20A_np%20%20%23%20type%3A%20ignore%5Bassignment%5D%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "type checks fail on 3.10, see https://github.com/mivanit/muutils/actions/runs/18883100459/job/53891346225", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/tensor_info.py#L241"}
{"tag": "TODO", "file": "muutils/tensor_info.py", "line_num": 292, "content": "                # TODO: handle bool tensors correctly", "context": "            A_hist = A_flat\n\n        # Calculate histogram data for sparklines\n        if A_hist.size > 0:\n            try:\n                # TODO: handle bool tensors correctly\n                # muutils/tensor_info.py:238: RuntimeWarning: Converting input from bool to <class 'numpy.uint8'> for compatibility.\n                hist, bins = np.histogram(A_hist, bins=hist_bins)\n                result[\"histogram\"] = hist\n                result[\"bins\"] = bins\n            except:  # noqa: E722", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=handle%20bool%20tensors%20correctly&body=%23%20source%0A%0A%5B%60muutils%2Ftensor_info.py%23L292%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Ftensor_info.py%23L292%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20%20%20%20%20A_hist%20%3D%20A_flat%0A%0A%20%20%20%20%20%20%20%20%23%20Calculate%20histogram%20data%20for%20sparklines%0A%20%20%20%20%20%20%20%20if%20A_hist.size%20%3E%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20TODO%3A%20handle%20bool%20tensors%20correctly%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20muutils%2Ftensor_info.py%3A238%3A%20RuntimeWarning%3A%20Converting%20input%20from%20bool%20to%20%3Cclass%20%27numpy.uint8%27%3E%20for%20compatibility.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hist%2C%20bins%20%3D%20np.histogram%28A_hist%2C%20bins%3Dhist_bins%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20result%5B%22histogram%22%5D%20%3D%20hist%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20result%5B%22bins%22%5D%20%3D%20bins%0A%20%20%20%20%20%20%20%20%20%20%20%20except%3A%20%20%23%20noqa%3A%20E722%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "handle bool tensors correctly", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/tensor_info.py#L292"}
{"tag": "TODO", "file": "muutils/tensor_utils.py", "line_num": 80, "content": "# TODO: add proper type annotations to this signature", "context": "    TYPE_TO_JAX_DTYPE[np.int_] = jaxtyping.Int  # type: ignore[attr-defined]  # pyright: ignore[reportAttributeAccessIssue]\nexcept AttributeError:\n    pass  # numpy 2.0+ removed these deprecated aliases\n\n\n# TODO: add proper type annotations to this signature\n# TODO: maybe get rid of this altogether?\n# def jaxtype_factory(\n#     name: str,\n#     array_type: type,\n#     default_jax_dtype: type[jaxtyping.Float | jaxtyping.Int | jaxtyping.Bool] = jaxtyping.Float,", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=add%20proper%20type%20annotations%20to%20this%20signature&body=%23%20source%0A%0A%5B%60muutils%2Ftensor_utils.py%23L80%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Ftensor_utils.py%23L80%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20TYPE_TO_JAX_DTYPE%5Bnp.int_%5D%20%3D%20jaxtyping.Int%20%20%23%20type%3A%20ignore%5Battr-defined%5D%20%20%23%20pyright%3A%20ignore%5BreportAttributeAccessIssue%5D%0Aexcept%20AttributeError%3A%0A%20%20%20%20pass%20%20%23%20numpy%202.0%2B%20removed%20these%20deprecated%20aliases%0A%0A%0A%23%20TODO%3A%20add%20proper%20type%20annotations%20to%20this%20signature%0A%23%20TODO%3A%20maybe%20get%20rid%20of%20this%20altogether%3F%0A%23%20def%20jaxtype_factory%28%0A%23%20%20%20%20%20name%3A%20str%2C%0A%23%20%20%20%20%20array_type%3A%20type%2C%0A%23%20%20%20%20%20default_jax_dtype%3A%20type%5Bjaxtyping.Float%20%7C%20jaxtyping.Int%20%7C%20jaxtyping.Bool%5D%20%3D%20jaxtyping.Float%2C%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "add proper type annotations to this signature", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/tensor_utils.py#L80"}
{"tag": "TODO", "file": "muutils/tensor_utils.py", "line_num": 81, "content": "# TODO: maybe get rid of this altogether?", "context": "except AttributeError:\n    pass  # numpy 2.0+ removed these deprecated aliases\n\n\n# TODO: add proper type annotations to this signature\n# TODO: maybe get rid of this altogether?\n# def jaxtype_factory(\n#     name: str,\n#     array_type: type,\n#     default_jax_dtype: type[jaxtyping.Float | jaxtyping.Int | jaxtyping.Bool] = jaxtyping.Float,\n#     legacy_mode: typing.Union[ErrorMode, str] = ErrorMode.WARN,", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=maybe%20get%20rid%20of%20this%20altogether%3F&body=%23%20source%0A%0A%5B%60muutils%2Ftensor_utils.py%23L81%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Ftensor_utils.py%23L81%29%0A%0A%23%20context%0A%60%60%60python%0Aexcept%20AttributeError%3A%0A%20%20%20%20pass%20%20%23%20numpy%202.0%2B%20removed%20these%20deprecated%20aliases%0A%0A%0A%23%20TODO%3A%20add%20proper%20type%20annotations%20to%20this%20signature%0A%23%20TODO%3A%20maybe%20get%20rid%20of%20this%20altogether%3F%0A%23%20def%20jaxtype_factory%28%0A%23%20%20%20%20%20name%3A%20str%2C%0A%23%20%20%20%20%20array_type%3A%20type%2C%0A%23%20%20%20%20%20default_jax_dtype%3A%20type%5Bjaxtyping.Float%20%7C%20jaxtyping.Int%20%7C%20jaxtyping.Bool%5D%20%3D%20jaxtyping.Float%2C%0A%23%20%20%20%20%20legacy_mode%3A%20typing.Union%5BErrorMode%2C%20str%5D%20%3D%20ErrorMode.WARN%2C%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "maybe get rid of this altogether?", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/tensor_utils.py#L81"}
{"tag": "TODO", "file": "muutils/dbg.py", "line_num": 242, "content": "    # TODO: explicitly pass args to avoid type: ignore (mypy can't match overloads with **TypedDict spread)", "context": "def tensor_info(tensor: typing.Any) -> str:\n    from muutils.tensor_info import array_summary\n\n    # TODO: explicitly pass args to avoid type: ignore (mypy can't match overloads with **TypedDict spread)\n    return array_summary(tensor, as_list=False, **DBG_TENSOR_ARRAY_SUMMARY_DEFAULTS)  # type: ignore[call-overload]\n\n\nDBG_DICT_DEFAULTS: DBGDictDefaultsType = {\n    \"key_types\": True,", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=explicitly%20pass%20args%20to%20avoid%20type%3A%20ignore%20%28mypy%20can%27t%20match%20overloads%20with%20%2A%2ATypedDict%20spread%29&body=%23%20source%0A%0A%5B%60muutils%2Fdbg.py%23L242%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fdbg.py%23L242%29%0A%0A%23%20context%0A%60%60%60python%0Adef%20tensor_info%28tensor%3A%20typing.Any%29%20-%3E%20str%3A%0A%20%20%20%20from%20muutils.tensor_info%20import%20array_summary%0A%0A%20%20%20%20%23%20TODO%3A%20explicitly%20pass%20args%20to%20avoid%20type%3A%20ignore%20%28mypy%20can%27t%20match%20overloads%20with%20%2A%2ATypedDict%20spread%29%0A%20%20%20%20return%20array_summary%28tensor%2C%20as_list%3DFalse%2C%20%2A%2ADBG_TENSOR_ARRAY_SUMMARY_DEFAULTS%29%20%20%23%20type%3A%20ignore%5Bcall-overload%5D%0A%0A%0ADBG_DICT_DEFAULTS%3A%20DBGDictDefaultsType%20%3D%20%7B%0A%20%20%20%20%22key_types%22%3A%20True%2C%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "explicitly pass args to avoid type: ignore (mypy can't match overloads with **TypedDict spread)", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/dbg.py#L242"}
{"tag": "HACK", "file": ".meta/scripts/make_docs.py", "line_num": 152, "content": "\t\tHACK: this is kind of fragile", "context": "\t@property\n\tdef module_name(self) -> str:\n\t\t\"\"\"name of the module, which is the package name with '-' replaced by '_'\n\n\t\tHACK: this is kind of fragile\n\t\t\"\"\"\n\t\treturn self.package_name.replace(\"-\", \"_\")\n\n\t@property\n\tdef output_dir(self) -> Path:", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=this%20is%20kind%20of%20fragile&body=%23%20source%0A%0A%5B%60.meta%2Fscripts%2Fmake_docs.py%23L152%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2F.meta%2Fscripts%2Fmake_docs.py%23L152%29%0A%0A%23%20context%0A%60%60%60python%0A%09%40property%0A%09def%20module_name%28self%29%20-%3E%20str%3A%0A%09%09%22%22%22name%20of%20the%20module%2C%20which%20is%20the%20package%20name%20with%20%27-%27%20replaced%20by%20%27_%27%0A%0A%09%09HACK%3A%20this%20is%20kind%20of%20fragile%0A%09%09%22%22%22%0A%09%09return%20self.package_name.replace%28%22-%22%2C%20%22_%22%29%0A%0A%09%40property%0A%09def%20output_dir%28self%29%20-%3E%20Path%3A%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "this is kind of fragile", "code_url": "https://github.com/mivanit/muutils/blob/main/.meta/scripts/make_docs.py#L152"}
{"tag": "TODO", "file": ".meta/scripts/docs_clean.py", "line_num": 71, "content": "\tTODO: this is not recursive", "context": "def clean_docs(docs_dir: Path, preserved: set[Path]) -> None:\n\t\"\"\"delete files not in preserved set\n\n\tTODO: this is not recursive\n\t\"\"\"\n\tfor path in docs_dir.iterdir():\n\t\tif path.is_file() and path not in preserved:\n\t\t\tpath.unlink()\n\t\telif path.is_dir() and path not in preserved:", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=this%20is%20not%20recursive&body=%23%20source%0A%0A%5B%60.meta%2Fscripts%2Fdocs_clean.py%23L71%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2F.meta%2Fscripts%2Fdocs_clean.py%23L71%29%0A%0A%23%20context%0A%60%60%60python%0Adef%20clean_docs%28docs_dir%3A%20Path%2C%20preserved%3A%20set%5BPath%5D%29%20-%3E%20None%3A%0A%09%22%22%22delete%20files%20not%20in%20preserved%20set%0A%0A%09TODO%3A%20this%20is%20not%20recursive%0A%09%22%22%22%0A%09for%20path%20in%20docs_dir.iterdir%28%29%3A%0A%09%09if%20path.is_file%28%29%20and%20path%20not%20in%20preserved%3A%0A%09%09%09path.unlink%28%29%0A%09%09elif%20path.is_dir%28%29%20and%20path%20not%20in%20preserved%3A%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "this is not recursive", "code_url": "https://github.com/mivanit/muutils/blob/main/.meta/scripts/docs_clean.py#L71"}
{"tag": "TODO", "file": "muutils/misc/func.py", "line_num": 8, "content": "# TODO: we do a lot of type weirdness here that basedpyright doesn't like", "context": "import sys\nfrom types import CodeType\nimport warnings\nfrom typing import Any, Callable, Tuple, cast, TypeVar\n\n# TODO: we do a lot of type weirdness here that basedpyright doesn't like\n# pyright: reportInvalidTypeForm=false\n\ntry:\n    if sys.version_info >= (3, 11):\n        # 3.11+", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=we%20do%20a%20lot%20of%20type%20weirdness%20here%20that%20basedpyright%20doesn%27t%20like&body=%23%20source%0A%0A%5B%60muutils%2Fmisc%2Ffunc.py%23L8%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fmisc%2Ffunc.py%23L8%29%0A%0A%23%20context%0A%60%60%60python%0Aimport%20sys%0Afrom%20types%20import%20CodeType%0Aimport%20warnings%0Afrom%20typing%20import%20Any%2C%20Callable%2C%20Tuple%2C%20cast%2C%20TypeVar%0A%0A%23%20TODO%3A%20we%20do%20a%20lot%20of%20type%20weirdness%20here%20that%20basedpyright%20doesn%27t%20like%0A%23%20pyright%3A%20reportInvalidTypeForm%3Dfalse%0A%0Atry%3A%0A%20%20%20%20if%20sys.version_info%20%3E%3D%20%283%2C%2011%29%3A%0A%20%20%20%20%20%20%20%20%23%203.11%2B%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "we do a lot of type weirdness here that basedpyright doesn't like", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/misc/func.py#L8"}
{"tag": "TODO", "file": "muutils/misc/func.py", "line_num": 191, "content": "                # TODO: no way to type hint this, I think", "context": "        func: Callable[FuncParams, ReturnType],\n    ) -> Callable[FuncParams, ReturnType]:\n        @functools.wraps(func)\n        def wrapper(*args: FuncParams.args, **kwargs: FuncParams.kwargs) -> ReturnType:  # pyright: ignore[reportUnknownParameterType]\n            if kwarg_name in kwargs:\n                # TODO: no way to type hint this, I think\n                if check(kwargs[kwarg_name]):  # type: ignore[arg-type]\n                    kwargs[kwarg_name] = replacement_value  # ty: ignore[invalid-assignment]\n            elif replace_if_missing and kwarg_name not in kwargs:\n                kwargs[kwarg_name] = replacement_value  # ty: ignore[invalid-assignment]\n            return func(*args, **kwargs)", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=no%20way%20to%20type%20hint%20this%2C%20I%20think&body=%23%20source%0A%0A%5B%60muutils%2Fmisc%2Ffunc.py%23L191%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fmisc%2Ffunc.py%23L191%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20func%3A%20Callable%5BFuncParams%2C%20ReturnType%5D%2C%0A%20%20%20%20%29%20-%3E%20Callable%5BFuncParams%2C%20ReturnType%5D%3A%0A%20%20%20%20%20%20%20%20%40functools.wraps%28func%29%0A%20%20%20%20%20%20%20%20def%20wrapper%28%2Aargs%3A%20FuncParams.args%2C%20%2A%2Akwargs%3A%20FuncParams.kwargs%29%20-%3E%20ReturnType%3A%20%20%23%20pyright%3A%20ignore%5BreportUnknownParameterType%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20kwarg_name%20in%20kwargs%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20TODO%3A%20no%20way%20to%20type%20hint%20this%2C%20I%20think%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20check%28kwargs%5Bkwarg_name%5D%29%3A%20%20%23%20type%3A%20ignore%5Barg-type%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20kwargs%5Bkwarg_name%5D%20%3D%20replacement_value%20%20%23%20ty%3A%20ignore%5Binvalid-assignment%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20elif%20replace_if_missing%20and%20kwarg_name%20not%20in%20kwargs%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20kwargs%5Bkwarg_name%5D%20%3D%20replacement_value%20%20%23%20ty%3A%20ignore%5Binvalid-assignment%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20func%28%2Aargs%2C%20%2A%2Akwargs%29%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "no way to type hint this, I think", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/misc/func.py#L191"}
{"tag": "TODO", "file": "muutils/misc/func.py", "line_num": 230, "content": "# TODO: no way to make the type system understand this afaik", "context": "        return func\n\n    return decorator\n\n\n# TODO: no way to make the type system understand this afaik\nLambdaArgs = TypeVarTuple(\"LambdaArgs\")\nLambdaArgsTypes = TypeVar(\"LambdaArgsTypes\", bound=Tuple[type, ...])\n\n\ndef typed_lambda(  # pyright: ignore[reportUnknownParameterType]", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=no%20way%20to%20make%20the%20type%20system%20understand%20this%20afaik&body=%23%20source%0A%0A%5B%60muutils%2Fmisc%2Ffunc.py%23L230%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fmisc%2Ffunc.py%23L230%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20return%20func%0A%0A%20%20%20%20return%20decorator%0A%0A%0A%23%20TODO%3A%20no%20way%20to%20make%20the%20type%20system%20understand%20this%20afaik%0ALambdaArgs%20%3D%20TypeVarTuple%28%22LambdaArgs%22%29%0ALambdaArgsTypes%20%3D%20TypeVar%28%22LambdaArgsTypes%22%2C%20bound%3DTuple%5Btype%2C%20...%5D%29%0A%0A%0Adef%20typed_lambda%28%20%20%23%20pyright%3A%20ignore%5BreportUnknownParameterType%5D%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "no way to make the type system understand this afaik", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/misc/func.py#L230"}
{"tag": "TODO", "file": "muutils/misc/sequence.py", "line_num": 58, "content": "        # TODO: swap type check with more general check for __iter__() or __next__() or whatever", "context": "    # Parameters\n    - `it`: Any arbitrarily nested iterable.\n    - `levels_to_flatten`: Number of levels to flatten by, starting at the outermost layer. If `None`, performs full flattening.\n    \"\"\"\n    for x in it:\n        # TODO: swap type check with more general check for __iter__() or __next__() or whatever\n        if (\n            hasattr(x, \"__iter__\")\n            and not isinstance(x, (str, bytes))\n            and (levels_to_flatten is None or levels_to_flatten > 0)\n        ):", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=swap%20type%20check%20with%20more%20general%20check%20for%20__iter__%28%29%20or%20__next__%28%29%20or%20whatever&body=%23%20source%0A%0A%5B%60muutils%2Fmisc%2Fsequence.py%23L58%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fmisc%2Fsequence.py%23L58%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%23%20Parameters%0A%20%20%20%20-%20%60it%60%3A%20Any%20arbitrarily%20nested%20iterable.%0A%20%20%20%20-%20%60levels_to_flatten%60%3A%20Number%20of%20levels%20to%20flatten%20by%2C%20starting%20at%20the%20outermost%20layer.%20If%20%60None%60%2C%20performs%20full%20flattening.%0A%20%20%20%20%22%22%22%0A%20%20%20%20for%20x%20in%20it%3A%0A%20%20%20%20%20%20%20%20%23%20TODO%3A%20swap%20type%20check%20with%20more%20general%20check%20for%20__iter__%28%29%20or%20__next__%28%29%20or%20whatever%0A%20%20%20%20%20%20%20%20if%20%28%0A%20%20%20%20%20%20%20%20%20%20%20%20hasattr%28x%2C%20%22__iter__%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20and%20not%20isinstance%28x%2C%20%28str%2C%20bytes%29%29%0A%20%20%20%20%20%20%20%20%20%20%20%20and%20%28levels_to_flatten%20is%20None%20or%20levels_to_flatten%20%3E%200%29%0A%20%20%20%20%20%20%20%20%29%3A%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "swap type check with more general check for __iter__() or __next__() or whatever", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/misc/sequence.py#L58"}
{"tag": "BUG", "file": "muutils/math/matrix_powers.py", "line_num": 83, "content": "# BUG: breaks with integer matrices???", "context": "        output[p_idx] = temp_result\n\n    return output\n\n\n# BUG: breaks with integer matrices???\n# TYPING: jaxtyping hints not working here, separate file for torch implementation?\ndef matrix_powers_torch(\n    A: Any,  # : Float[\"torch.Tensor\", \"n n\"],\n    powers: Sequence[int],\n) -> Any:  # Float[\"torch.Tensor\", \"n_powers n n\"]:", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=breaks%20with%20integer%20matrices%3F%3F%3F&body=%23%20source%0A%0A%5B%60muutils%2Fmath%2Fmatrix_powers.py%23L83%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fmath%2Fmatrix_powers.py%23L83%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20output%5Bp_idx%5D%20%3D%20temp_result%0A%0A%20%20%20%20return%20output%0A%0A%0A%23%20BUG%3A%20breaks%20with%20integer%20matrices%3F%3F%3F%0A%23%20TYPING%3A%20jaxtyping%20hints%20not%20working%20here%2C%20separate%20file%20for%20torch%20implementation%3F%0Adef%20matrix_powers_torch%28%0A%20%20%20%20A%3A%20Any%2C%20%20%23%20%3A%20Float%5B%22torch.Tensor%22%2C%20%22n%20n%22%5D%2C%0A%20%20%20%20powers%3A%20Sequence%5Bint%5D%2C%0A%29%20-%3E%20Any%3A%20%20%23%20Float%5B%22torch.Tensor%22%2C%20%22n_powers%20n%20n%22%5D%3A%0A%60%60%60&labels=bug", "file_lang": "python", "stripped_title": "breaks with integer matrices???", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/math/matrix_powers.py#L83"}
{"tag": "TODO", "file": "muutils/json_serialize/json_serialize.py", "line_num": 181, "content": "        # TODO: allow for custom serialization handler name", "context": "    return obj.serialize()\n\n\nDEFAULT_HANDLERS: MonoTuple[SerializerHandler] = tuple(BASE_HANDLERS) + (\n    SerializerHandler(\n        # TODO: allow for custom serialization handler name\n        check=lambda self, obj, path: (\n            hasattr(obj, \"serialize\") and callable(obj.serialize)\n        ),\n        serialize_func=_serialize_override_serialize_func,\n        uid=\".serialize override\",", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=allow%20for%20custom%20serialization%20handler%20name&body=%23%20source%0A%0A%5B%60muutils%2Fjson_serialize%2Fjson_serialize.py%23L181%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fjson_serialize%2Fjson_serialize.py%23L181%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20return%20obj.serialize%28%29%0A%0A%0ADEFAULT_HANDLERS%3A%20MonoTuple%5BSerializerHandler%5D%20%3D%20tuple%28BASE_HANDLERS%29%20%2B%20%28%0A%20%20%20%20SerializerHandler%28%0A%20%20%20%20%20%20%20%20%23%20TODO%3A%20allow%20for%20custom%20serialization%20handler%20name%0A%20%20%20%20%20%20%20%20check%3Dlambda%20self%2C%20obj%2C%20path%3A%20%28%0A%20%20%20%20%20%20%20%20%20%20%20%20hasattr%28obj%2C%20%22serialize%22%29%20and%20callable%28obj.serialize%29%0A%20%20%20%20%20%20%20%20%29%2C%0A%20%20%20%20%20%20%20%20serialize_func%3D_serialize_override_serialize_func%2C%0A%20%20%20%20%20%20%20%20uid%3D%22.serialize%20override%22%2C%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "allow for custom serialization handler name", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/json_serialize/json_serialize.py#L181"}
{"tag": "TODO", "file": "muutils/json_serialize/serializable_dataclass.py", "line_num": 124, "content": "    # TODO: there is some duplication here with register_loader_handler", "context": "    \"\"\"Register a serializable dataclass with the ZANJ import\n\n    this allows `ZANJ().read()` to load the class and not just return plain dicts\n\n\n    # TODO: there is some duplication here with register_loader_handler\n    \"\"\"\n    global _zanj_loading_needs_import\n\n    if _zanj_loading_needs_import:\n        try:", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=there%20is%20some%20duplication%20here%20with%20register_loader_handler&body=%23%20source%0A%0A%5B%60muutils%2Fjson_serialize%2Fserializable_dataclass.py%23L124%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fjson_serialize%2Fserializable_dataclass.py%23L124%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%22%22%22Register%20a%20serializable%20dataclass%20with%20the%20ZANJ%20import%0A%0A%20%20%20%20this%20allows%20%60ZANJ%28%29.read%28%29%60%20to%20load%20the%20class%20and%20not%20just%20return%20plain%20dicts%0A%0A%0A%20%20%20%20%23%20TODO%3A%20there%20is%20some%20duplication%20here%20with%20register_loader_handler%0A%20%20%20%20%22%22%22%0A%20%20%20%20global%20_zanj_loading_needs_import%0A%0A%20%20%20%20if%20_zanj_loading_needs_import%3A%0A%20%20%20%20%20%20%20%20try%3A%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "there is some duplication here with register_loader_handler", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/json_serialize/serializable_dataclass.py#L124"}
{"tag": "NOTE", "file": "muutils/json_serialize/serializable_dataclass.py", "line_num": 135, "content": "            # NOTE: if ZANJ is not installed, then failing to register the loader handler doesnt matter", "context": "            from zanj.loading import (  # type: ignore[import]  # pyright: ignore[reportMissingImports]\n                LoaderHandler,  # pyright: ignore[reportUnknownVariableType]\n                register_loader_handler,  # pyright: ignore[reportUnknownVariableType]\n            )\n        except ImportError:\n            # NOTE: if ZANJ is not installed, then failing to register the loader handler doesnt matter\n            # warnings.warn(\n            #     \"ZANJ not installed, cannot register serializable dataclass loader. ZANJ can be found at https://github.com/mivanit/ZANJ or installed via `pip install zanj`\",\n            #     ZanjMissingWarning,\n            # )\n            return", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=if%20ZANJ%20is%20not%20installed%2C%20then%20failing%20to%20register%20the%20loader%20handler%20doesnt%20matter&body=%23%20source%0A%0A%5B%60muutils%2Fjson_serialize%2Fserializable_dataclass.py%23L135%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fjson_serialize%2Fserializable_dataclass.py%23L135%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20%20%20%20%20from%20zanj.loading%20import%20%28%20%20%23%20type%3A%20ignore%5Bimport%5D%20%20%23%20pyright%3A%20ignore%5BreportMissingImports%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20LoaderHandler%2C%20%20%23%20pyright%3A%20ignore%5BreportUnknownVariableType%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20register_loader_handler%2C%20%20%23%20pyright%3A%20ignore%5BreportUnknownVariableType%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%0A%20%20%20%20%20%20%20%20except%20ImportError%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20NOTE%3A%20if%20ZANJ%20is%20not%20installed%2C%20then%20failing%20to%20register%20the%20loader%20handler%20doesnt%20matter%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20warnings.warn%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20%20%20%20%20%22ZANJ%20not%20installed%2C%20cannot%20register%20serializable%20dataclass%20loader.%20ZANJ%20can%20be%20found%20at%20https%3A%2F%2Fgithub.com%2Fmivanit%2FZANJ%20or%20installed%20via%20%60pip%20install%20zanj%60%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20%20%20%20%20ZanjMissingWarning%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20%29%0A%20%20%20%20%20%20%20%20%20%20%20%20return%0A%60%60%60&labels=NOTE", "file_lang": "python", "stripped_title": "if ZANJ is not installed, then failing to register the loader handler doesnt matter", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/json_serialize/serializable_dataclass.py#L135"}
{"tag": "TODO", "file": "muutils/json_serialize/serializable_dataclass.py", "line_num": 204, "content": "    # TODO: how to handle fields which are not `init` or `serialize`?", "context": "    # do nothing case\n    if not _field.assert_type:\n        return True\n\n    # if field is not `init` or not `serialize`, skip but warn\n    # TODO: how to handle fields which are not `init` or `serialize`?\n    if not _field.init or not _field.serialize:\n        warnings.warn(\n            f\"Field '{_field.name}' on class {self.__class__} is not `init` or `serialize`, so will not be type checked\",\n            FieldIsNotInitOrSerializeWarning,\n        )", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=how%20to%20handle%20fields%20which%20are%20not%20%60init%60%20or%20%60serialize%60%3F&body=%23%20source%0A%0A%5B%60muutils%2Fjson_serialize%2Fserializable_dataclass.py%23L204%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fjson_serialize%2Fserializable_dataclass.py%23L204%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%23%20do%20nothing%20case%0A%20%20%20%20if%20not%20_field.assert_type%3A%0A%20%20%20%20%20%20%20%20return%20True%0A%0A%20%20%20%20%23%20if%20field%20is%20not%20%60init%60%20or%20not%20%60serialize%60%2C%20skip%20but%20warn%0A%20%20%20%20%23%20TODO%3A%20how%20to%20handle%20fields%20which%20are%20not%20%60init%60%20or%20%60serialize%60%3F%0A%20%20%20%20if%20not%20_field.init%20or%20not%20_field.serialize%3A%0A%20%20%20%20%20%20%20%20warnings.warn%28%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22Field%20%27%7B_field.name%7D%27%20on%20class%20%7Bself.__class__%7D%20is%20not%20%60init%60%20or%20%60serialize%60%2C%20so%20will%20not%20be%20type%20checked%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20FieldIsNotInitOrSerializeWarning%2C%0A%20%20%20%20%20%20%20%20%29%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "how to handle fields which are not `init` or `serialize`?", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/json_serialize/serializable_dataclass.py#L204"}
{"tag": "HACK", "file": "muutils/json_serialize/serializable_dataclass.py", "line_num": 290, "content": "            # HACK: ExceptionGroup not supported in py < 3.11, so get a random exception from the dict", "context": "        on_typecheck_error.process(\n            f\"Exceptions while validating types of fields on {self.__class__.__name__}: {[x.name for x in cls_fields]}\"\n            + \"\\n\\t\"\n            + \"\\n\\t\".join([f\"{k}:\\t{v}\" for k, v in exceptions.items()]),\n            except_cls=ValueError,\n            # HACK: ExceptionGroup not supported in py < 3.11, so get a random exception from the dict\n            except_from=list(exceptions.values())[0],\n        )\n\n    return results", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=ExceptionGroup%20not%20supported%20in%20py%20%3C%203.11%2C%20so%20get%20a%20random%20exception%20from%20the%20dict&body=%23%20source%0A%0A%5B%60muutils%2Fjson_serialize%2Fserializable_dataclass.py%23L290%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fjson_serialize%2Fserializable_dataclass.py%23L290%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20on_typecheck_error.process%28%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22Exceptions%20while%20validating%20types%20of%20fields%20on%20%7Bself.__class__.__name__%7D%3A%20%7B%5Bx.name%20for%20x%20in%20cls_fields%5D%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%20%22%5Cn%5Ct%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%20%22%5Cn%5Ct%22.join%28%5Bf%22%7Bk%7D%3A%5Ct%7Bv%7D%22%20for%20k%2C%20v%20in%20exceptions.items%28%29%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20except_cls%3DValueError%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20HACK%3A%20ExceptionGroup%20not%20supported%20in%20py%20%3C%203.11%2C%20so%20get%20a%20random%20exception%20from%20the%20dict%0A%20%20%20%20%20%20%20%20%20%20%20%20except_from%3Dlist%28exceptions.values%28%29%29%5B0%5D%2C%0A%20%20%20%20%20%20%20%20%29%0A%0A%20%20%20%20return%20results%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "ExceptionGroup not supported in py < 3.11, so get a random exception from the dict", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/json_serialize/serializable_dataclass.py#L290"}
{"tag": "TODO", "file": "muutils/json_serialize/serializable_dataclass.py", "line_num": 521, "content": "# TODO: are the types hashable? does this even make sense?", "context": "        \"deep copy by serializing and loading the instance to json\"\n        return self.__class__.load(json.loads(json.dumps(self.serialize())))\n\n\n# cache this so we don't have to keep getting it\n# TODO: are the types hashable? does this even make sense?\n@functools.lru_cache(typed=True)\ndef get_cls_type_hints_cached(cls: Type[T_SerializeableDataclass]) -> dict[str, Any]:\n    \"cached typing.get_type_hints for a class\"\n    return typing.get_type_hints(cls)", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=are%20the%20types%20hashable%3F%20does%20this%20even%20make%20sense%3F&body=%23%20source%0A%0A%5B%60muutils%2Fjson_serialize%2Fserializable_dataclass.py%23L521%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fjson_serialize%2Fserializable_dataclass.py%23L521%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20%22deep%20copy%20by%20serializing%20and%20loading%20the%20instance%20to%20json%22%0A%20%20%20%20%20%20%20%20return%20self.__class__.load%28json.loads%28json.dumps%28self.serialize%28%29%29%29%29%0A%0A%0A%23%20cache%20this%20so%20we%20don%27t%20have%20to%20keep%20getting%20it%0A%23%20TODO%3A%20are%20the%20types%20hashable%3F%20does%20this%20even%20make%20sense%3F%0A%40functools.lru_cache%28typed%3DTrue%29%0Adef%20get_cls_type_hints_cached%28cls%3A%20Type%5BT_SerializeableDataclass%5D%29%20-%3E%20dict%5Bstr%2C%20Any%5D%3A%0A%20%20%20%20%22cached%20typing.get_type_hints%20for%20a%20class%22%0A%20%20%20%20return%20typing.get_type_hints%28cls%29%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "are the types hashable? does this even make sense?", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/json_serialize/serializable_dataclass.py#L521"}
{"tag": "HACK", "file": "muutils/json_serialize/serializable_dataclass.py", "line_num": 809, "content": "            # HACK: this is kind of ugly, but it fixes a lot of issues for when we do recursive loading with ZANJ", "context": "        @classmethod  # type: ignore[misc]\n        def load(\n            cls: type[T_SerializeableDataclass],\n            data: dict[str, Any] | T_SerializeableDataclass,\n        ) -> T_SerializeableDataclass:\n            # HACK: this is kind of ugly, but it fixes a lot of issues for when we do recursive loading with ZANJ\n            if isinstance(data, cls):\n                return data\n\n            assert isinstance(data, typing.Mapping), (\n                f\"When loading {cls.__name__ = } expected a Mapping, but got {type(data) = }:\\n{data = }\"", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=this%20is%20kind%20of%20ugly%2C%20but%20it%20fixes%20a%20lot%20of%20issues%20for%20when%20we%20do%20recursive%20loading%20with%20ZANJ&body=%23%20source%0A%0A%5B%60muutils%2Fjson_serialize%2Fserializable_dataclass.py%23L809%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fjson_serialize%2Fserializable_dataclass.py%23L809%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20%40classmethod%20%20%23%20type%3A%20ignore%5Bmisc%5D%0A%20%20%20%20%20%20%20%20def%20load%28%0A%20%20%20%20%20%20%20%20%20%20%20%20cls%3A%20type%5BT_SerializeableDataclass%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20data%3A%20dict%5Bstr%2C%20Any%5D%20%7C%20T_SerializeableDataclass%2C%0A%20%20%20%20%20%20%20%20%29%20-%3E%20T_SerializeableDataclass%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20HACK%3A%20this%20is%20kind%20of%20ugly%2C%20but%20it%20fixes%20a%20lot%20of%20issues%20for%20when%20we%20do%20recursive%20loading%20with%20ZANJ%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20isinstance%28data%2C%20cls%29%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20data%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20assert%20isinstance%28data%2C%20typing.Mapping%29%2C%20%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22When%20loading%20%7Bcls.__name__%20%3D%20%7D%20expected%20a%20Mapping%2C%20but%20got%20%7Btype%28data%29%20%3D%20%7D%3A%5Cn%7Bdata%20%3D%20%7D%22%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "this is kind of ugly, but it fixes a lot of issues for when we do recursive loading with ZANJ", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/json_serialize/serializable_dataclass.py#L809"}
{"tag": "TODO", "file": "muutils/json_serialize/util.py", "line_num": 46, "content": "    # TODO: figure this out", "context": "JSONitem = Union[\n    BaseType,\n    typing.Sequence[\"JSONitem\"],\n    typing.Dict[str, \"JSONitem\"],\n    # TODO: figure this out\n    # \"_SerializedSet\",\n    # \"_SerializedFrozenset\",\n]\n\nJSONdict = typing.Dict[str, JSONitem]", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=figure%20this%20out&body=%23%20source%0A%0A%5B%60muutils%2Fjson_serialize%2Futil.py%23L46%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fjson_serialize%2Futil.py%23L46%29%0A%0A%23%20context%0A%60%60%60python%0AJSONitem%20%3D%20Union%5B%0A%20%20%20%20BaseType%2C%0A%20%20%20%20typing.Sequence%5B%22JSONitem%22%5D%2C%0A%20%20%20%20typing.Dict%5Bstr%2C%20%22JSONitem%22%5D%2C%0A%20%20%20%20%23%20TODO%3A%20figure%20this%20out%0A%20%20%20%20%23%20%22_SerializedSet%22%2C%0A%20%20%20%20%23%20%22_SerializedFrozenset%22%2C%0A%5D%0A%0AJSONdict%20%3D%20typing.Dict%5Bstr%2C%20JSONitem%5D%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "figure this out", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/json_serialize/util.py#L46"}
{"tag": "TODO", "file": "muutils/json_serialize/util.py", "line_num": 54, "content": "# TODO: this bit is very broken", "context": "]\n\nJSONdict = typing.Dict[str, JSONitem]\n\n\n# TODO: this bit is very broken\n# or if python version <3.9\nif typing.TYPE_CHECKING or sys.version_info < (3, 9):\n    MonoTuple = typing.Sequence\nelse:", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=this%20bit%20is%20very%20broken&body=%23%20source%0A%0A%5B%60muutils%2Fjson_serialize%2Futil.py%23L54%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fjson_serialize%2Futil.py%23L54%29%0A%0A%23%20context%0A%60%60%60python%0A%5D%0A%0AJSONdict%20%3D%20typing.Dict%5Bstr%2C%20JSONitem%5D%0A%0A%0A%23%20TODO%3A%20this%20bit%20is%20very%20broken%0A%23%20or%20if%20python%20version%20%3C3.9%0Aif%20typing.TYPE_CHECKING%20or%20sys.version_info%20%3C%20%283%2C%209%29%3A%0A%20%20%20%20MonoTuple%20%3D%20typing.Sequence%0Aelse%3A%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "this bit is very broken", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/json_serialize/util.py#L54"}
{"tag": "TODO", "file": "muutils/json_serialize/serializable_field.py", "line_num": 57, "content": "        # TODO: add field for custom comparator (such as serializing)", "context": "        init: bool = True,\n        repr: bool = True,\n        hash: Optional[bool] = None,\n        compare: bool = True,\n        doc: str | None = None,\n        # TODO: add field for custom comparator (such as serializing)\n        metadata: Optional[types.MappingProxyType] = None,\n        kw_only: Union[bool, dataclasses._MISSING_TYPE] = dataclasses.MISSING,\n        serialize: bool = True,\n        serialization_fn: Optional[Callable[[Any], Any]] = None,\n        loading_fn: Optional[Callable[[Any], Any]] = None,", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=add%20field%20for%20custom%20comparator%20%28such%20as%20serializing%29&body=%23%20source%0A%0A%5B%60muutils%2Fjson_serialize%2Fserializable_field.py%23L57%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fjson_serialize%2Fserializable_field.py%23L57%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20init%3A%20bool%20%3D%20True%2C%0A%20%20%20%20%20%20%20%20repr%3A%20bool%20%3D%20True%2C%0A%20%20%20%20%20%20%20%20hash%3A%20Optional%5Bbool%5D%20%3D%20None%2C%0A%20%20%20%20%20%20%20%20compare%3A%20bool%20%3D%20True%2C%0A%20%20%20%20%20%20%20%20doc%3A%20str%20%7C%20None%20%3D%20None%2C%0A%20%20%20%20%20%20%20%20%23%20TODO%3A%20add%20field%20for%20custom%20comparator%20%28such%20as%20serializing%29%0A%20%20%20%20%20%20%20%20metadata%3A%20Optional%5Btypes.MappingProxyType%5D%20%3D%20None%2C%0A%20%20%20%20%20%20%20%20kw_only%3A%20Union%5Bbool%2C%20dataclasses._MISSING_TYPE%5D%20%3D%20dataclasses.MISSING%2C%0A%20%20%20%20%20%20%20%20serialize%3A%20bool%20%3D%20True%2C%0A%20%20%20%20%20%20%20%20serialization_fn%3A%20Optional%5BCallable%5B%5BAny%5D%2C%20Any%5D%5D%20%3D%20None%2C%0A%20%20%20%20%20%20%20%20loading_fn%3A%20Optional%5BCallable%5B%5BAny%5D%2C%20Any%5D%5D%20%3D%20None%2C%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "add field for custom comparator (such as serializing)", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/json_serialize/serializable_field.py#L57"}
{"tag": "TODO", "file": "muutils/json_serialize/serializable_field.py", "line_num": 67, "content": "        # TODO: should we do this check, or assume the user knows what they are doing?", "context": "        loading_fn: Optional[Callable[[Any], Any]] = None,\n        deserialize_fn: Optional[Callable[[Any], Any]] = None,\n        assert_type: bool = True,\n        custom_typecheck_fn: Optional[Callable[[type], bool]] = None,\n    ):\n        # TODO: should we do this check, or assume the user knows what they are doing?\n        if init and not serialize:\n            raise ValueError(\"Cannot have init=True and serialize=False\")\n\n        # need to assemble kwargs in this hacky way so as not to upset type checking\n        super_kwargs: dict[str, Any] = dict(", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=should%20we%20do%20this%20check%2C%20or%20assume%20the%20user%20knows%20what%20they%20are%20doing%3F&body=%23%20source%0A%0A%5B%60muutils%2Fjson_serialize%2Fserializable_field.py%23L67%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fjson_serialize%2Fserializable_field.py%23L67%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20loading_fn%3A%20Optional%5BCallable%5B%5BAny%5D%2C%20Any%5D%5D%20%3D%20None%2C%0A%20%20%20%20%20%20%20%20deserialize_fn%3A%20Optional%5BCallable%5B%5BAny%5D%2C%20Any%5D%5D%20%3D%20None%2C%0A%20%20%20%20%20%20%20%20assert_type%3A%20bool%20%3D%20True%2C%0A%20%20%20%20%20%20%20%20custom_typecheck_fn%3A%20Optional%5BCallable%5B%5Btype%5D%2C%20bool%5D%5D%20%3D%20None%2C%0A%20%20%20%20%29%3A%0A%20%20%20%20%20%20%20%20%23%20TODO%3A%20should%20we%20do%20this%20check%2C%20or%20assume%20the%20user%20knows%20what%20they%20are%20doing%3F%0A%20%20%20%20%20%20%20%20if%20init%20and%20not%20serialize%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError%28%22Cannot%20have%20init%3DTrue%20and%20serialize%3DFalse%22%29%0A%0A%20%20%20%20%20%20%20%20%23%20need%20to%20assemble%20kwargs%20in%20this%20hacky%20way%20so%20as%20not%20to%20upset%20type%20checking%0A%20%20%20%20%20%20%20%20super_kwargs%3A%20dict%5Bstr%2C%20Any%5D%20%3D%20dict%28%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "should we do this check, or assume the user knows what they are doing?", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/json_serialize/serializable_field.py#L67"}
{"tag": "TODO", "file": "muutils/json_serialize/serializable_field.py", "line_num": 277, "content": "    # TODO: `custom_value_check_fn`: function taking the value of the field and returning whether the value itself is valid. if not provided, any value is valid as long as it passes the type test", "context": "    note that if not using ZANJ, and you have a class inside a container, you MUST provide\n    `serialization_fn` and `loading_fn` to serialize and load the container.\n    ZANJ will automatically do this for you.\n\n    # TODO: `custom_value_check_fn`: function taking the value of the field and returning whether the value itself is valid. if not provided, any value is valid as long as it passes the type test\n    \"\"\"\n    assert len(_args) == 0, f\"unexpected positional arguments: {_args}\"\n\n    if \"description\" in kwargs:\n        import warnings", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=%60custom_value_check_fn%60%3A%20function%20taking%20the%20value%20of%20the%20field%20and%20returning%20whether%20the%20value%20itself%20is%20valid.%20if%20not%20provided%2C%20any%20value%20is%20valid%20as%20long%20as%20it%20passes%20the%20type%20test&body=%23%20source%0A%0A%5B%60muutils%2Fjson_serialize%2Fserializable_field.py%23L277%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Fjson_serialize%2Fserializable_field.py%23L277%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20note%20that%20if%20not%20using%20ZANJ%2C%20and%20you%20have%20a%20class%20inside%20a%20container%2C%20you%20MUST%20provide%0A%20%20%20%20%60serialization_fn%60%20and%20%60loading_fn%60%20to%20serialize%20and%20load%20the%20container.%0A%20%20%20%20ZANJ%20will%20automatically%20do%20this%20for%20you.%0A%0A%20%20%20%20%23%20TODO%3A%20%60custom_value_check_fn%60%3A%20function%20taking%20the%20value%20of%20the%20field%20and%20returning%20whether%20the%20value%20itself%20is%20valid.%20if%20not%20provided%2C%20any%20value%20is%20valid%20as%20long%20as%20it%20passes%20the%20type%20test%0A%20%20%20%20%22%22%22%0A%20%20%20%20assert%20len%28_args%29%20%3D%3D%200%2C%20f%22unexpected%20positional%20arguments%3A%20%7B_args%7D%22%0A%0A%20%20%20%20if%20%22description%22%20in%20kwargs%3A%0A%20%20%20%20%20%20%20%20import%20warnings%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "`custom_value_check_fn`: function taking the value of the field and returning whether the value itself is valid. if not provided, any value is valid as long as it passes the type test", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/json_serialize/serializable_field.py#L277"}
{"tag": "TODO", "file": "muutils/logger/timing.py", "line_num": 90, "content": "        # TODO: get_progress_default", "context": "    def get_progress_default(self, i: int) -> str:\n        \"\"\"returns a progress string\"\"\"\n        timing_raw: dict[str, float] = self.get_timing_raw(i)\n\n        percent_str: str = str(int(timing_raw[\"percent\"] * 100)).ljust(2)\n        # TODO: get_progress_default\n        # iters_str: str = f\"{str(i).ljust(self.total_str_len)}/{self.n_total}\"\n        # timing_str: str\n        return f\"{percent_str}% {self.get_pbar(i)}\"", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=get_progress_default&body=%23%20source%0A%0A%5B%60muutils%2Flogger%2Ftiming.py%23L90%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Flogger%2Ftiming.py%23L90%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20def%20get_progress_default%28self%2C%20i%3A%20int%29%20-%3E%20str%3A%0A%20%20%20%20%20%20%20%20%22%22%22returns%20a%20progress%20string%22%22%22%0A%20%20%20%20%20%20%20%20timing_raw%3A%20dict%5Bstr%2C%20float%5D%20%3D%20self.get_timing_raw%28i%29%0A%0A%20%20%20%20%20%20%20%20percent_str%3A%20str%20%3D%20str%28int%28timing_raw%5B%22percent%22%5D%20%2A%20100%29%29.ljust%282%29%0A%20%20%20%20%20%20%20%20%23%20TODO%3A%20get_progress_default%0A%20%20%20%20%20%20%20%20%23%20iters_str%3A%20str%20%3D%20f%22%7Bstr%28i%29.ljust%28self.total_str_len%29%7D%2F%7Bself.n_total%7D%22%0A%20%20%20%20%20%20%20%20%23%20timing_str%3A%20str%0A%20%20%20%20%20%20%20%20return%20f%22%7Bpercent_str%7D%25%20%7Bself.get_pbar%28i%29%7D%22%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "get_progress_default", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/logger/timing.py#L90"}
{"tag": "TODO", "file": "muutils/logger/logger.py", "line_num": 98, "content": "        # TODO: handle per stream?", "context": "        # timing\n        # ==================================================\n        # timing compares\n        self._keep_last_msg_time: bool = keep_last_msg_time\n        # TODO: handle per stream?\n        self._last_msg_time: float | None = time.time()\n\n        # basic setup\n        # ==================================================\n        # init BaseLogger", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=handle%20per%20stream%3F&body=%23%20source%0A%0A%5B%60muutils%2Flogger%2Flogger.py%23L98%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Flogger%2Flogger.py%23L98%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20%23%20timing%0A%20%20%20%20%20%20%20%20%23%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20%20%20%20%20%20%20%20%23%20timing%20compares%0A%20%20%20%20%20%20%20%20self._keep_last_msg_time%3A%20bool%20%3D%20keep_last_msg_time%0A%20%20%20%20%20%20%20%20%23%20TODO%3A%20handle%20per%20stream%3F%0A%20%20%20%20%20%20%20%20self._last_msg_time%3A%20float%20%7C%20None%20%3D%20time.time%28%29%0A%0A%20%20%20%20%20%20%20%20%23%20basic%20setup%0A%20%20%20%20%20%20%20%20%23%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20%20%20%20%20%20%20%20%23%20init%20BaseLogger%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "handle per stream?", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/logger/logger.py#L98"}
{"tag": "TODO", "file": "muutils/logger/loggingstream.py", "line_num": 24, "content": "            TODO: perhaps duplicate alises should result in duplicate writes?", "context": "    \"\"\"properties of a logging stream\n\n    - `name: str` name of the stream\n    - `aliases: set[str]` aliases for the stream\n            (calls to these names will be redirected to this stream. duplicate alises will result in errors)\n            TODO: perhaps duplicate alises should result in duplicate writes?\n    - `file: str|bool|AnyIO|None` file to write to\n            - if `None`, will write to standard log\n            - if `True`, will write to `name + \".log\"`\n            - if `False` will \"write\" to `NullIO` (throw it away)\n            - if a string, will write to that file", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=perhaps%20duplicate%20alises%20should%20result%20in%20duplicate%20writes%3F&body=%23%20source%0A%0A%5B%60muutils%2Flogger%2Floggingstream.py%23L24%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Flogger%2Floggingstream.py%23L24%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%22%22%22properties%20of%20a%20logging%20stream%0A%0A%20%20%20%20-%20%60name%3A%20str%60%20name%20of%20the%20stream%0A%20%20%20%20-%20%60aliases%3A%20set%5Bstr%5D%60%20aliases%20for%20the%20stream%0A%20%20%20%20%20%20%20%20%20%20%20%20%28calls%20to%20these%20names%20will%20be%20redirected%20to%20this%20stream.%20duplicate%20alises%20will%20result%20in%20errors%29%0A%20%20%20%20%20%20%20%20%20%20%20%20TODO%3A%20perhaps%20duplicate%20alises%20should%20result%20in%20duplicate%20writes%3F%0A%20%20%20%20-%20%60file%3A%20str%7Cbool%7CAnyIO%7CNone%60%20file%20to%20write%20to%0A%20%20%20%20%20%20%20%20%20%20%20%20-%20if%20%60None%60%2C%20will%20write%20to%20standard%20log%0A%20%20%20%20%20%20%20%20%20%20%20%20-%20if%20%60True%60%2C%20will%20write%20to%20%60name%20%2B%20%22.log%22%60%0A%20%20%20%20%20%20%20%20%20%20%20%20-%20if%20%60False%60%20will%20%22write%22%20to%20%60NullIO%60%20%28throw%20it%20away%29%0A%20%20%20%20%20%20%20%20%20%20%20%20-%20if%20a%20string%2C%20will%20write%20to%20that%20file%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "perhaps duplicate alises should result in duplicate writes?", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/logger/loggingstream.py#L24"}
{"tag": "TODO", "file": "muutils/logger/loggingstream.py", "line_num": 43, "content": "    # TODO: implement last-message caching", "context": "    file: str | bool | AnyIO | None = None\n    default_level: int | None = None\n    default_contents: dict[str, Callable[[], Any]] = field(default_factory=dict)\n    handler: AnyIO | None = None\n\n    # TODO: implement last-message caching\n    # last_msg: tuple[float, Any]|None = None\n\n    def make_handler(self) -> AnyIO | None:\n        if self.file is None:\n            return None", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=implement%20last-message%20caching&body=%23%20source%0A%0A%5B%60muutils%2Flogger%2Floggingstream.py%23L43%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Flogger%2Floggingstream.py%23L43%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20file%3A%20str%20%7C%20bool%20%7C%20AnyIO%20%7C%20None%20%3D%20None%0A%20%20%20%20default_level%3A%20int%20%7C%20None%20%3D%20None%0A%20%20%20%20default_contents%3A%20dict%5Bstr%2C%20Callable%5B%5B%5D%2C%20Any%5D%5D%20%3D%20field%28default_factory%3Ddict%29%0A%20%20%20%20handler%3A%20AnyIO%20%7C%20None%20%3D%20None%0A%0A%20%20%20%20%23%20TODO%3A%20implement%20last-message%20caching%0A%20%20%20%20%23%20last_msg%3A%20tuple%5Bfloat%2C%20Any%5D%7CNone%20%3D%20None%0A%0A%20%20%20%20def%20make_handler%28self%29%20-%3E%20AnyIO%20%7C%20None%3A%0A%20%20%20%20%20%20%20%20if%20self.file%20is%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20None%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "implement last-message caching", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/logger/loggingstream.py#L43"}
{"tag": "TODO", "file": "muutils/logger/loggingstream.py", "line_num": 58, "content": "            # TODO: make this happen in the same dir as the main logfile?", "context": "                \"w\",\n                encoding=\"utf-8\",\n            )\n        elif isinstance(self.file, bool):\n            # if its a bool and true, open a file with the same name as the stream (in the current dir)\n            # TODO: make this happen in the same dir as the main logfile?\n            if self.file:\n                return open(  # type: ignore[return-value]\n                    f\"{sanitize_fname(self.name)}.log.jsonl\",\n                    \"w\",\n                    encoding=\"utf-8\",", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=make%20this%20happen%20in%20the%20same%20dir%20as%20the%20main%20logfile%3F&body=%23%20source%0A%0A%5B%60muutils%2Flogger%2Floggingstream.py%23L58%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Fmuutils%2Flogger%2Floggingstream.py%23L58%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22w%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20encoding%3D%22utf-8%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%0A%20%20%20%20%20%20%20%20elif%20isinstance%28self.file%2C%20bool%29%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20if%20its%20a%20bool%20and%20true%2C%20open%20a%20file%20with%20the%20same%20name%20as%20the%20stream%20%28in%20the%20current%20dir%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20TODO%3A%20make%20this%20happen%20in%20the%20same%20dir%20as%20the%20main%20logfile%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20self.file%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20open%28%20%20%23%20type%3A%20ignore%5Breturn-value%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22%7Bsanitize_fname%28self.name%29%7D.log.jsonl%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22w%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20encoding%3D%22utf-8%22%2C%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "make this happen in the same dir as the main logfile?", "code_url": "https://github.com/mivanit/muutils/blob/main/muutils/logger/loggingstream.py#L58"}
{"tag": "TODO", "file": "tests/unit/test_tensor_utils_torch.py", "line_num": 47, "content": "    # TODO: type ignores here should not be necessary?", "context": "#     y = ATensor[\"dim1 dim2\", np.float32]  # type: ignore[index]\n#     print(y)\n\n\ndef test_numpy_to_torch_dtype():\n    # TODO: type ignores here should not be necessary?\n    assert numpy_to_torch_dtype(np.float32) == torch.float32  # type: ignore[arg-type]\n    assert numpy_to_torch_dtype(np.int32) == torch.int32  # type: ignore[arg-type]\n    assert numpy_to_torch_dtype(torch.float32) == torch.float32", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=type%20ignores%20here%20should%20not%20be%20necessary%3F&body=%23%20source%0A%0A%5B%60tests%2Funit%2Ftest_tensor_utils_torch.py%23L47%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Ftests%2Funit%2Ftest_tensor_utils_torch.py%23L47%29%0A%0A%23%20context%0A%60%60%60python%0A%23%20%20%20%20%20y%20%3D%20ATensor%5B%22dim1%20dim2%22%2C%20np.float32%5D%20%20%23%20type%3A%20ignore%5Bindex%5D%0A%23%20%20%20%20%20print%28y%29%0A%0A%0Adef%20test_numpy_to_torch_dtype%28%29%3A%0A%20%20%20%20%23%20TODO%3A%20type%20ignores%20here%20should%20not%20be%20necessary%3F%0A%20%20%20%20assert%20numpy_to_torch_dtype%28np.float32%29%20%3D%3D%20torch.float32%20%20%23%20type%3A%20ignore%5Barg-type%5D%0A%20%20%20%20assert%20numpy_to_torch_dtype%28np.int32%29%20%3D%3D%20torch.int32%20%20%23%20type%3A%20ignore%5Barg-type%5D%0A%20%20%20%20assert%20numpy_to_torch_dtype%28torch.float32%29%20%3D%3D%20torch.float32%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "type ignores here should not be necessary?", "code_url": "https://github.com/mivanit/muutils/blob/main/tests/unit/test_tensor_utils_torch.py#L47"}
{"tag": "TODO", "file": "tests/unit/misc/test_freeze.py", "line_num": 7, "content": "# TODO: there are a bunch of 'type: ignore' comments here which it would be nice to get rid of", "context": "import pytest\n\nfrom muutils.misc import freeze\n\n# TODO: there are a bunch of 'type: ignore' comments here which it would be nice to get rid of\n\n\ndef test_freeze_basic_types():\n    freeze(True)\n    freeze(123)", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=there%20are%20a%20bunch%20of%20%27type%3A%20ignore%27%20comments%20here%20which%20it%20would%20be%20nice%20to%20get%20rid%20of&body=%23%20source%0A%0A%5B%60tests%2Funit%2Fmisc%2Ftest_freeze.py%23L7%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Ftests%2Funit%2Fmisc%2Ftest_freeze.py%23L7%29%0A%0A%23%20context%0A%60%60%60python%0Aimport%20pytest%0A%0Afrom%20muutils.misc%20import%20freeze%0A%0A%23%20TODO%3A%20there%20are%20a%20bunch%20of%20%27type%3A%20ignore%27%20comments%20here%20which%20it%20would%20be%20nice%20to%20get%20rid%20of%0A%0A%0Adef%20test_freeze_basic_types%28%29%3A%0A%20%20%20%20freeze%28True%29%0A%20%20%20%20freeze%28123%29%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "there are a bunch of 'type: ignore' comments here which it would be nice to get rid of", "code_url": "https://github.com/mivanit/muutils/blob/main/tests/unit/misc/test_freeze.py#L7"}
{"tag": "TODO", "file": "tests/unit/json_serialize/test_json_serialize.py", "line_num": 694, "content": "# TODO: Implement circular reference protection in the future. see https://github.com/mivanit/muutils/issues/62", "context": "    # Should fail to serialize anything\n    with pytest.raises(SerializationException):\n        serializer.json_serialize(42)\n\n\n# TODO: Implement circular reference protection in the future. see https://github.com/mivanit/muutils/issues/62\n@pytest.mark.skip(\n    reason=\"we don't currently have circular reference protection, see https://github.com/mivanit/muutils/issues/62\"\n)\ndef test_circular_reference_protection():\n    \"\"\"Test that circular references don't cause infinite loops (will hit recursion limit).\"\"\"", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=Implement%20circular%20reference%20protection%20in%20the%20future.%20see%20https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fissues%2F62&body=%23%20source%0A%0A%5B%60tests%2Funit%2Fjson_serialize%2Ftest_json_serialize.py%23L694%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Ftests%2Funit%2Fjson_serialize%2Ftest_json_serialize.py%23L694%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%23%20Should%20fail%20to%20serialize%20anything%0A%20%20%20%20with%20pytest.raises%28SerializationException%29%3A%0A%20%20%20%20%20%20%20%20serializer.json_serialize%2842%29%0A%0A%0A%23%20TODO%3A%20Implement%20circular%20reference%20protection%20in%20the%20future.%20see%20https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fissues%2F62%0A%40pytest.mark.skip%28%0A%20%20%20%20reason%3D%22we%20don%27t%20currently%20have%20circular%20reference%20protection%2C%20see%20https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fissues%2F62%22%0A%29%0Adef%20test_circular_reference_protection%28%29%3A%0A%20%20%20%20%22%22%22Test%20that%20circular%20references%20don%27t%20cause%20infinite%20loops%20%28will%20hit%20recursion%20limit%29.%22%22%22%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "Implement circular reference protection in the future. see https://github.com/mivanit/muutils/issues/62", "code_url": "https://github.com/mivanit/muutils/blob/main/tests/unit/json_serialize/test_json_serialize.py#L694"}
{"tag": "TODO", "file": "tests/unit/json_serialize/test_array.py", "line_num": 113, "content": "    # TODO: do we even want to support \"list\" mode for zero-dim arrays?", "context": "                self.jser, array, \"test_path\", array_mode=\"array_b64_meta\"\n            )\n            loaded_array = load_array(serialized_array, array_mode=\"array_b64_meta\")\n            assert np.array_equal(loaded_array, array)\n\n    # TODO: do we even want to support \"list\" mode for zero-dim arrays?\n    @pytest.mark.parametrize(\n        \"array_mode\",\n        [\"array_list_meta\", \"array_hex_meta\", \"array_b64_meta\"],\n    )\n    def test_serialize_load_zero_dim(self, array_mode: ArrayModeWithMeta):", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=do%20we%20even%20want%20to%20support%20%22list%22%20mode%20for%20zero-dim%20arrays%3F&body=%23%20source%0A%0A%5B%60tests%2Funit%2Fjson_serialize%2Ftest_array.py%23L113%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Ftests%2Funit%2Fjson_serialize%2Ftest_array.py%23L113%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.jser%2C%20array%2C%20%22test_path%22%2C%20array_mode%3D%22array_b64_meta%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%0A%20%20%20%20%20%20%20%20%20%20%20%20loaded_array%20%3D%20load_array%28serialized_array%2C%20array_mode%3D%22array_b64_meta%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20assert%20np.array_equal%28loaded_array%2C%20array%29%0A%0A%20%20%20%20%23%20TODO%3A%20do%20we%20even%20want%20to%20support%20%22list%22%20mode%20for%20zero-dim%20arrays%3F%0A%20%20%20%20%40pytest.mark.parametrize%28%0A%20%20%20%20%20%20%20%20%22array_mode%22%2C%0A%20%20%20%20%20%20%20%20%5B%22array_list_meta%22%2C%20%22array_hex_meta%22%2C%20%22array_b64_meta%22%5D%2C%0A%20%20%20%20%29%0A%20%20%20%20def%20test_serialize_load_zero_dim%28self%2C%20array_mode%3A%20ArrayModeWithMeta%29%3A%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "do we even want to support \"list\" mode for zero-dim arrays?", "code_url": "https://github.com/mivanit/muutils/blob/main/tests/unit/json_serialize/test_array.py#L113"}
{"tag": "TODO", "file": "tests/unit/json_serialize/serializable_dataclass/test_serializable_dataclass.py", "line_num": 578, "content": "# TODO: figure this out", "context": "    int_dict: Dict[str, int]\n    str_dict: Dict[str, str]\n    float_dict: Dict[str, float]\n\n\n# TODO: figure this out\n@pytest.mark.skip(reason=\"dict type validation doesnt seem to work\")\ndef test_dict_type_validation():\n    \"\"\"Test type validation for dictionary values\"\"\"\n    # Valid case\n    valid = StrictDictContainer(", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=figure%20this%20out&body=%23%20source%0A%0A%5B%60tests%2Funit%2Fjson_serialize%2Fserializable_dataclass%2Ftest_serializable_dataclass.py%23L578%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Ftests%2Funit%2Fjson_serialize%2Fserializable_dataclass%2Ftest_serializable_dataclass.py%23L578%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20int_dict%3A%20Dict%5Bstr%2C%20int%5D%0A%20%20%20%20str_dict%3A%20Dict%5Bstr%2C%20str%5D%0A%20%20%20%20float_dict%3A%20Dict%5Bstr%2C%20float%5D%0A%0A%0A%23%20TODO%3A%20figure%20this%20out%0A%40pytest.mark.skip%28reason%3D%22dict%20type%20validation%20doesnt%20seem%20to%20work%22%29%0Adef%20test_dict_type_validation%28%29%3A%0A%20%20%20%20%22%22%22Test%20type%20validation%20for%20dictionary%20values%22%22%22%0A%20%20%20%20%23%20Valid%20case%0A%20%20%20%20valid%20%3D%20StrictDictContainer%28%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "figure this out", "code_url": "https://github.com/mivanit/muutils/blob/main/tests/unit/json_serialize/serializable_dataclass/test_serializable_dataclass.py#L578"}
{"tag": "TODO", "file": "tests/unit/json_serialize/serializable_dataclass/test_serializable_dataclass.py", "line_num": 973, "content": "# TODO: this would be nice to fix, but not a massive issue", "context": "    loaded = PropertyContainer.load(serialized)\n    assert loaded == instance\n\n\n# TODO: this would be nice to fix, but not a massive issue\n@pytest.mark.skip(reason=\"Not implemented yet\")\ndef test_edge_cases():\n    \"\"\"Test a sdc containing instances of itself\"\"\"\n\n    @serializable_dataclass", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=this%20would%20be%20nice%20to%20fix%2C%20but%20not%20a%20massive%20issue&body=%23%20source%0A%0A%5B%60tests%2Funit%2Fjson_serialize%2Fserializable_dataclass%2Ftest_serializable_dataclass.py%23L973%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Ftests%2Funit%2Fjson_serialize%2Fserializable_dataclass%2Ftest_serializable_dataclass.py%23L973%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20loaded%20%3D%20PropertyContainer.load%28serialized%29%0A%20%20%20%20assert%20loaded%20%3D%3D%20instance%0A%0A%0A%23%20TODO%3A%20this%20would%20be%20nice%20to%20fix%2C%20but%20not%20a%20massive%20issue%0A%40pytest.mark.skip%28reason%3D%22Not%20implemented%20yet%22%29%0Adef%20test_edge_cases%28%29%3A%0A%20%20%20%20%22%22%22Test%20a%20sdc%20containing%20instances%20of%20itself%22%22%22%0A%0A%20%20%20%20%40serializable_dataclass%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "this would be nice to fix, but not a massive issue", "code_url": "https://github.com/mivanit/muutils/blob/main/tests/unit/json_serialize/serializable_dataclass/test_serializable_dataclass.py#L973"}
{"tag": "TODO", "file": "tests/unit/json_serialize/serializable_dataclass/test_serializable_dataclass.py", "line_num": 1041, "content": "# TODO: make .serialize() fail on cyclic references! see https://github.com/mivanit/muutils/issues/62", "context": "    #         \"shared_field\": 0\n    #     })\n\n\n# Test for memory leaks and cyclic references\n# TODO: make .serialize() fail on cyclic references! see https://github.com/mivanit/muutils/issues/62\n@pytest.mark.skip(reason=\"Not implemented yet\")\ndef test_cyclic_references():\n    \"\"\"Test handling of cyclic references\"\"\"\n\n    @serializable_dataclass", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=make%20.serialize%28%29%20fail%20on%20cyclic%20references%21%20see%20https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fissues%2F62&body=%23%20source%0A%0A%5B%60tests%2Funit%2Fjson_serialize%2Fserializable_dataclass%2Ftest_serializable_dataclass.py%23L1041%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Ftests%2Funit%2Fjson_serialize%2Fserializable_dataclass%2Ftest_serializable_dataclass.py%23L1041%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%23%20%20%20%20%20%20%20%20%20%22shared_field%22%3A%200%0A%20%20%20%20%23%20%20%20%20%20%7D%29%0A%0A%0A%23%20Test%20for%20memory%20leaks%20and%20cyclic%20references%0A%23%20TODO%3A%20make%20.serialize%28%29%20fail%20on%20cyclic%20references%21%20see%20https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fissues%2F62%0A%40pytest.mark.skip%28reason%3D%22Not%20implemented%20yet%22%29%0Adef%20test_cyclic_references%28%29%3A%0A%20%20%20%20%22%22%22Test%20handling%20of%20cyclic%20references%22%22%22%0A%0A%20%20%20%20%40serializable_dataclass%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "make .serialize() fail on cyclic references! see https://github.com/mivanit/muutils/issues/62", "code_url": "https://github.com/mivanit/muutils/blob/main/tests/unit/json_serialize/serializable_dataclass/test_serializable_dataclass.py#L1041"}
{"tag": "TODO", "file": "tests/unit/json_serialize/serializable_dataclass/test_serializable_dataclass.py", "line_num": 1061, "content": "    # TODO: idk why we type ignore here", "context": "    # Ensure we can serialize without infinite recursion\n    serialized = node1.serialize()\n    loaded = Node.load(serialized)\n    assert loaded.value == \"one\"\n    # TODO: idk why we type ignore here\n    assert loaded.next.value == \"two\"  # type: ignore[union-attr]  # pyright: ignore[reportOptionalMemberAccess]", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=idk%20why%20we%20type%20ignore%20here&body=%23%20source%0A%0A%5B%60tests%2Funit%2Fjson_serialize%2Fserializable_dataclass%2Ftest_serializable_dataclass.py%23L1061%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Ftests%2Funit%2Fjson_serialize%2Fserializable_dataclass%2Ftest_serializable_dataclass.py%23L1061%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%23%20Ensure%20we%20can%20serialize%20without%20infinite%20recursion%0A%20%20%20%20serialized%20%3D%20node1.serialize%28%29%0A%20%20%20%20loaded%20%3D%20Node.load%28serialized%29%0A%20%20%20%20assert%20loaded.value%20%3D%3D%20%22one%22%0A%20%20%20%20%23%20TODO%3A%20idk%20why%20we%20type%20ignore%20here%0A%20%20%20%20assert%20loaded.next.value%20%3D%3D%20%22two%22%20%20%23%20type%3A%20ignore%5Bunion-attr%5D%20%20%23%20pyright%3A%20ignore%5BreportOptionalMemberAccess%5D%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "idk why we type ignore here", "code_url": "https://github.com/mivanit/muutils/blob/main/tests/unit/json_serialize/serializable_dataclass/test_serializable_dataclass.py#L1061"}
{"tag": "TODO", "file": "tests/unit/json_serialize/serializable_dataclass/test_sdc_properties_nested.py", "line_num": 25, "content": "# TODO: idk why it thinks `SUPPORTS_KW_ONLY` is not a True or False Literal:", "context": "    @property\n    def full_name(self) -> str:\n        return f\"{self.first_name} {self.last_name}\"\n\n\n# TODO: idk why it thinks `SUPPORTS_KW_ONLY` is not a True or False Literal:\n# error: \"kw_only\" argument must be a True or False literal  [literal-required]\n@serializable_dataclass(\n    kw_only=SUPPORTS_KW_ONLY,  # type: ignore[literal-required]\n    properties_to_serialize=[\"full_name\", \"full_title\"],\n)", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=idk%20why%20it%20thinks%20%60SUPPORTS_KW_ONLY%60%20is%20not%20a%20True%20or%20False%20Literal%3A&body=%23%20source%0A%0A%5B%60tests%2Funit%2Fjson_serialize%2Fserializable_dataclass%2Ftest_sdc_properties_nested.py%23L25%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2Ftests%2Funit%2Fjson_serialize%2Fserializable_dataclass%2Ftest_sdc_properties_nested.py%23L25%29%0A%0A%23%20context%0A%60%60%60python%0A%20%20%20%20%40property%0A%20%20%20%20def%20full_name%28self%29%20-%3E%20str%3A%0A%20%20%20%20%20%20%20%20return%20f%22%7Bself.first_name%7D%20%7Bself.last_name%7D%22%0A%0A%0A%23%20TODO%3A%20idk%20why%20it%20thinks%20%60SUPPORTS_KW_ONLY%60%20is%20not%20a%20True%20or%20False%20Literal%3A%0A%23%20error%3A%20%22kw_only%22%20argument%20must%20be%20a%20True%20or%20False%20literal%20%20%5Bliteral-required%5D%0A%40serializable_dataclass%28%0A%20%20%20%20kw_only%3DSUPPORTS_KW_ONLY%2C%20%20%23%20type%3A%20ignore%5Bliteral-required%5D%0A%20%20%20%20properties_to_serialize%3D%5B%22full_name%22%2C%20%22full_title%22%5D%2C%0A%29%0A%60%60%60&labels=enhancement", "file_lang": "python", "stripped_title": "idk why it thinks `SUPPORTS_KW_ONLY` is not a True or False Literal:", "code_url": "https://github.com/mivanit/muutils/blob/main/tests/unit/json_serialize/serializable_dataclass/test_sdc_properties_nested.py#L25"}
{"tag": "NOTE", "file": "TODO.md", "line_num": 12, "content": "   NOTE: the files are many thousands of lines, you will have to pick a *random* few hundred lines to read. it is important that you pick a random set of lines, since you will be working in parallel with other Claude instances, and we want to avoid everyone working on the same errors.", "context": "2. Read the type checker output files:\n   - `.meta/.type-errors/mypy.txt`\n   - `.meta/.type-errors/basedpyright.txt`\n   - `.meta/.type-errors/ty.txt`\n\n   NOTE: the files are many thousands of lines, you will have to pick a *random* few hundred lines to read. it is important that you pick a random set of lines, since you will be working in parallel with other Claude instances, and we want to avoid everyone working on the same errors.\n\n3. Decide on a good fix to make. For example, you might pick:\n   - the fix with the best **\"number of errors / complexity of change\" ratio**\n   - a fix that gets us closer to removing an entire category of errors\n   - a fix that gets us closer to having no errors in a specific file (**FOCUS ON THIS!**)", "issue_url": "https://github.com/mivanit/muutils/issues/new?title=the%20files%20are%20many%20thousands%20of%20lines%2C%20you%20will%20have%20to%20pick%20a%20%2Arandom%2A%20few%20hundred%20lines%20to%20read.%20it%20is%20important%20that%20you%20pick%20a%20random%20set%20of%20lines%2C%20since%20you%20will%20be%20working%20in%20parallel%20with%20other%20Claude%20instances%2C%20and%20we%20want%20to%20avoid%20everyone%20working%20on%20the%20same%20errors.&body=%23%20source%0A%0A%5B%60TODO.md%23L12%60%5D%28https%3A%2F%2Fgithub.com%2Fmivanit%2Fmuutils%2Fblob%2Fmain%2FTODO.md%23L12%29%0A%0A%23%20context%0A%60%60%60markdown%0A2.%20Read%20the%20type%20checker%20output%20files%3A%0A%20%20%20-%20%60.meta%2F.type-errors%2Fmypy.txt%60%0A%20%20%20-%20%60.meta%2F.type-errors%2Fbasedpyright.txt%60%0A%20%20%20-%20%60.meta%2F.type-errors%2Fty.txt%60%0A%0A%20%20%20NOTE%3A%20the%20files%20are%20many%20thousands%20of%20lines%2C%20you%20will%20have%20to%20pick%20a%20%2Arandom%2A%20few%20hundred%20lines%20to%20read.%20it%20is%20important%20that%20you%20pick%20a%20random%20set%20of%20lines%2C%20since%20you%20will%20be%20working%20in%20parallel%20with%20other%20Claude%20instances%2C%20and%20we%20want%20to%20avoid%20everyone%20working%20on%20the%20same%20errors.%0A%0A3.%20Decide%20on%20a%20good%20fix%20to%20make.%20For%20example%2C%20you%20might%20pick%3A%0A%20%20%20-%20the%20fix%20with%20the%20best%20%2A%2A%22number%20of%20errors%20%2F%20complexity%20of%20change%22%20ratio%2A%2A%0A%20%20%20-%20a%20fix%20that%20gets%20us%20closer%20to%20removing%20an%20entire%20category%20of%20errors%0A%20%20%20-%20a%20fix%20that%20gets%20us%20closer%20to%20having%20no%20errors%20in%20a%20specific%20file%20%28%2A%2AFOCUS%20ON%20THIS%21%2A%2A%29%0A%60%60%60&labels=NOTE", "file_lang": "markdown", "stripped_title": "the files are many thousands of lines, you will have to pick a *random* few hundred lines to read. it is important that you pick a random set of lines, since you will be working in parallel with other Claude instances, and we want to avoid everyone working on the same errors.", "code_url": "https://github.com/mivanit/muutils/blob/main/TODO.md#L12"}
